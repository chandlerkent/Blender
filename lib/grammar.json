{   
    "lex": {
        "macros": {
            "Word": "\\w+",
            "Ident": "(({Word}?)-{Word}|{Word})",
        },
        
        "rules": [
            ["/\\*(.|\\n|\\r|\\r\\n)*?\\*/",    "/* skip */"],
            ["//.*",                            "/* skip */"],
            ["\\s+",                            "/* skip */"],
            ["{Ident}",                         "return 'IDENT';"],
            ["(\\{|\\}|\\:|\\;|\\.|\\#)",       "return yytext;"],
        ]
    },

    "bnf": { 
        "Stylesheet":       [
                                ["StmtList", "$$ = new yy.Stylesheet($1); return $$;"],
                            ],
        "StmtList":         [
                                ["", "$$ = [];"],
                                ["Stmt StmtList", "$2.unshift($1); $$ = $2;"],
                            ],
        "Stmt":             [
                                ["Class { AttributeList }", "$$ = new yy.ClassNode($1, $3);"],
                                ["Class : IDENT { AttributeList }", "$$ = new yy.ClassNode($1, $5, $3);"],
                            ],
        "Class":            [
                                [". IDENT", "$$ = $2;"],
                            ],
        "AttributeList":    [
                                ["", "$$ = [];"],
                                ["Attribute AttributeList", "$2.unshift($1); $$ = $2;"],
                            ],
        "Attribute":        [
                                ["Key : Value ;", "$$ = new yy.AttributeNode($1, $3);"]
                            ],
        "Key":              [
                                ["IDENT", "$$ = $1;"]
                            ],
        "Value":            [
                                ["# IDENT", "$$ = $2;"],
                                ["IDENT", "$$ = $1;"],
                            ],
    }
}